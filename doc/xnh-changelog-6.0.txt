xNetHack 6.0 Changelog

This is a major version of xNetHack. It is based directly on xNetHack 5.1, and
is a fork off the vanilla NetHack 3.7.0 development version release.

The most recent vanilla commit incorporated into xNetHack is d564fa8. Note that
this contains some major changes including new monsters, new objects, themed
rooms, and other things *not* documented in this file. See doc/fixes37.0 for
the devteam's changes.

The xNetHack page at the NetHackWiki, https://nethackwiki.com/wiki/XNetHack,
attempts to describe these changes in a way that's better formatted and more
friendly to players. However, the wiki page might be out of date; in case of
conflicting information, this changelog and others in this directory are more
up-to-date than the wiki page, and the commit messages are more up-to-date than
this changelog.

On top of any changes made by the NetHack devteam on 3.7, and any changes
made in previous xNetHack versions, xNetHack 6.0 contains the following
gameplay changes:

The geyser spell will rust armor and instakill you if you are an iron golem.
Vault guards grudge leprechauns.
Vampires grudge werewolves and vice versa.
Potions of acid no longer freeze when hit with cold damage.
All nymphs are now herbivorous (mainly meaning that pet nymphs will eat veggy
  food and polymorphing into one does not make you inediate).
Salamanders, all Kops, and all corpse-leaving i-class monsters (imps, tengu,
  quasits, homunculi, and leprechauns) are now carnivorous. This mainly means
  that they are capable of eating meat when tamed and prefer it over veggy
  food, and polymorphing into one does not make you inediate.
Ghosts cannot be renamed.
Reading a scroll of identify while confused will "identify yourself" and give
  enlightenment.
Port L's Cursed Wand Backfire Patch: zapping a cursed directional wand will
  cause it to backfire and zap you 10% of the time. This is independent of the
  1% chance that a cursed wand will blow up upon use.
Martial arts users, sasquatches, and players wearing kicking boots can no
  longer miss a monster completely with a clumsy kick.
Statues hit by a wand of opening will drop their contents without breaking.
Watch captains generate with a key.
The Gnomish Sewer now contains a couple figurines of jellies.
The Gnomish Sewer's land spaces are now exclusively room spaces ("."); all
  corridor spaces ("#") have been replaced with them. The land/water/stone
  layout of the map is not changed.
Genetic engineers (added in vanilla 3.7.0) are in the U monster class like
  quantum mechanics are.
Attempting to use a crystal ball while hallucinating will paralyze you for d2
  turns if the ball is uncharged or d4 turns if it is charged. (This is the
  only part of the vanilla 3.7.0 crystal ball overhaul that has been included
  in xNetHack.)
Monsters prefer to wear an amulet of life saving or reflection rather than an
  amulet of ESP or guarding.
Metal armor won't provide less than 1 AC (not counting enchantments) if it
  has a decreased AC from being a different material. For instance, copper
  gauntlets of power will provide 1 AC instead of 0.
Some themed rooms have minimum and maximum level difficulty cutoffs. Notably,
  the spider room will not appear above level 10.
The "Fake Delphi" themed room now has one fountain in its center.
21 new themed rooms:
  - A cluster of four square interconnected 3x3 rooms.
  - A barbell-shaped room connecting two 3x3 rooms with a doored, walled
    corridor (vertical and horizontal).
  - A room containing a bunch of graffiti.
  - A room filled with small 1x1 pillars. Sometimes, these pillars will be
    trees instead, and then the room will contain wood nymphs, and possibly
    statues and a figurine of wood nymphs.
  - A boomerang-shaped room (left and right rotations).
  - A 1-wide rectangular corridor (surrounding a chunk of normal stone).
  - A room featuring an O, M, Z, or T monster in a cage of iron bars.
    It can also be a D below level 12. From EvilHack.
  - A room split horizontally or vertically into two subrooms. From EvilHack.
  - A room containing a 2x2 subroom in any corner. From EvilHack.
  - A vault containing 1-2 chests with random contents, not connected to the
    rest of the dungeon like a gold vault.
  - A room containing an X of water connecting its corners.
  - A miniature 7x7 maze.
  - A horizontal corridor with a bunch of closets along the top and bottom,
    some of them containing monsters or objects.
  - A wide room containing 1 to 3 2x2 beehives.
  - A large honeycomb-shaped room with randomly connected cells, which is a
    beehive.
  - A room where each square becomes cloud, ice, grass, lava, pool, or tree
    with a 30% chance. From UnNetHack.
  - A room containing a ring of floor tiles surrounding a "swimming pool"
    filled with water, which contains a few random sea monsters and possibly a
    chest with gold and gems. (Unlike the Gehennom submerged special room,
    there is no magic lamp.)
  - A long, narrow (height only 1 or 2) room. From UnNetHack.
  - A room populated with several random F, b, j, P and gas spore monsters.
    From UnNetHack.
  - Ozymandias' Tomb, a 7x7 room with a throne, some traps, a couple statue
    traps and an engraving. Only appears deep in the dungeon. From UnNetHack.
  - A room filled mostly or entirely with gas spores, which should prove
    extremely fun to blow up.
If you ride a steed into a polymorph trap, unchanging will not protect the
  steed (but magic resistance still will).
Canceled or beheaded zombies or trolls don't rise from the dead.


It contains the following non-gameplay interface changes:

Light armor, studded armor, jackets, plain cloaks, and identified plain gloves
  will display their default leather material when made out of leather.
Engravings now render as ~ (tilde) instead of " (quotation mark) by default.
The Vibrating Square is colored yellow instead of purple.
When water walking boots are identified by walking on liquid with them, a
  message is printed.
The code is brought to parity with the interface improvements in the
  NHTangles/NetHack36 github repository, branch 3.7-hdf.
Killing "player remnant" monsters (e.g. ghosts) from bones files is livelogged.
Player remnant monsters cannot be renamed.
The 'checkpoint' option now defaults to true.
When you wear a cursed piece of gear, it will print a message about welding to
  your body and immediately become identified as cursed.
Dying on a corridor or grass space now leaves a gravestone in the bones file.
You can no longer push a boulder in the course of running or traveling.
Monster and object lookup now print a heading which displays the monster or
  object that it is printing details for.
Viewing an encyclopedia entry now prints the string that was used to find an
  entry in the encyclopedia and the string in data.base that matched it.


It contains the following non-gameplay architectural changes:

tipcontainer() is generalized to work for spilling objects out of a container
  on some space other than the player' other than the player's.
A bunch of enhancements, fixes, and refactors of the level parser, initially
  implemented as patches versus vanilla. In particular, themed room subrooms
  and special rooms can now be filled.
Monsters created in a bones file to represent a dead player (ghost, mummy, etc)
  are tracked with a new "ebones" mextra struct.
A new body part, TORSO, is added.
New function gear_simple_name, which collects all the various foo_simple_name
  functions for gear pieces into one function.
