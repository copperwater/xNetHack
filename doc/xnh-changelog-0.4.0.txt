xNetHack 0.4.0 Changelog

This is a minor version of xNetHack. It is a fork off of the vanilla NetHack
3.6.1 release, and is also based directly on xNetHack 0.3.0. It will continue
to contain all of the latest commits pushed by the vanilla devteam on their
3.6.2 branch; see doc/fixes36.2 for these changes.

The xNetHack page at the NetHackWiki, https://nethackwiki.com/wiki/XNetHack,
attempts to describe these changes in a way that's better formatted and more
friendly to players. However, it might be out of date; in case of conflicting
information, this changelog and others in this folder are more up-to-date than
the wiki page, and the commit messages are more up-to-date than this changelog.

On top of any changes made by the NetHack devteam on 3.6.1, and any changes
made in previous xNetHack versions, xNetHack 0.4.0 contains the following
gameplay changes:

Remove the scroll of amnesia. In its place, create the scroll of water, which
  behaves mostly like UnNetHack's scroll of flood, except it will never create
  a pool underneath the player. It costs 200 and takes 4-7 ink to write. It is
  unblankable except by acid.
Also from UnNetHack, random graves may have a scroll of water placed on them,
  and the epitaph is then "Apres moi, le deluge."
Remove mind flayers' amnesia. They still drain Int.
Monsters created along with rooms will never generate on top of stairs.
If the player enters a level on a spot where there is a monster, always
  displace the monster away. (Previously this only happened 50% of the time,
  and the other 50% the player was moved.)
Monster groups, small and large, now have their sizes fuzzed a bit.
Most create monster sources will no longer create groups of monsters.
Add polyinit mode: you begin the game permanently polymorphed into a monster of
  your choice. This is a non-scoring mode like explore mode, and can be
  combined with explore mode (and wizard mode of course). To enable, set
  OPTIONS=polyinit:[monster] in your config file.
  You can polyinit to anything except player monsters and uniques. Any other
  monsters are fair game, but if you can't polymorph into one in a normal game,
  it's not officially supported. Beware of crashes.
Extrinsic sources of fire, cold, and shock resistance provide immunity to all
  items in your inventory from that type of damage.
Eating mimic corpses no longer breaks polyselfless conduct.
Tourists now begin the game wearing low boots (walking shoes).

It contains the following non-gameplay interface changes:

When you kill the Wizard of Yendor, the livelog prints where you are in the
  dungeon.
If you die while stuck in creature form, your actual death reason is shown, and
  the "while stuck in creature form" is recorded in the while field of the
  xlogfile.
The livelogging patch is extended to include arising from the dead or slime as
  a sentient copy of the monster. This is a livelog flag of 0x0200.
The #terrain command works while hallucinating, confused or stunned.

It contains the following non-gameplay architectural changes:

Remove all (now dead) code relating to amnesia.
Add a makemon flag for suppressing the creation of monster groups.
Enable LIVELOGFLAGS in the sysconf. Livelogging is still disabled by default in
  config.h.
